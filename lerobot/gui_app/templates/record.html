<div class="container">

    <!-- record control buttons -->
    <div class="card" style="background-color: var(--bs-gray-800)!important">
        <h6 class="card-header p-3">Mode Controls</h6>
        <div class="card-body">

          <button class="btn btn-primary me-2" id="startRecordSessionBtn" data-bs-title="Only start control loop" data-bs-toggle="tooltip" data-bs-placement="bottom">
            <i class="bi bi-arrow-repeat"></i> 
            Start Session
          </button>
          <button class="btn btn-danger me-2" id="stopRecordSessionBtn" data-bs-title="Stop control loop" data-bs-toggle="tooltip" data-bs-placement="bottom">
            <i class="bi bi-ban"></i> 
            Stop Session
          </button>

          <hr>
          <div class="mt-3">

            <button class="btn btn-success me-2" id="startRecordBtn" data-bs-title="Trigger dataset recording" data-bs-toggle="tooltip" data-bs-placement="bottom">
              <i class="bi bi-record-fill"></i> 
              Record
            </button>                                    
            <button class="btn btn-primary me-2" id="finishRecordBtn" data-bs-title="Finish and save recorded data" data-bs-toggle="tooltip" data-bs-placement="bottom">
              <i class="bi bi-save-fill "></i> 
              Finish
            </button>
            <button class="btn btn-danger me-2" id="cancelRecordBtn" data-bs-title="Cancel and del recorded data" data-bs-toggle="tooltip" data-bs-placement="bottom">
              <i class="bi bi-trash3-fill"></i> 
              Cancel
            </button>

          </div>    
        </div>
    </div>

    <!-- record configuration -->
    <div class="accordion mt-lg-4" id="recordAccordian">

      <div class="accordion-item">

        <h2 class="accordion-header">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRecordTab" aria-expanded="true" aria-controls="collapseRecordTab">
            Config
          </button>
        </h2>

        <div id="collapseRecordTab" class="accordion-collapse collapse" data-bs-parent="#recordAccordian">
          <div class="accordion-body" style="background-color: var(--bs-gray-800)!important">

            <!-- configs -->
            <form id="recordConfigForm" action="/robot/record/config-update" method="post">

              <div class="mb-3">
                <label for="robotConfigSelect" class="form-label">Robot Config File</label>
                <select id="robotConfigSelect" class="form-select" name="robot_config"></select>
              </div>   
              
              <hr>

              <!-- <div class="row g-3 align-items-center mb-3">
                <div class="col-auto">
                  <label for="recordRoot" class="col-form-label">Root Dir</label>
                </div>
                <div class="col-auto">
                  <input type="text" id="recordRoot" name="root_dir" class="form-control" aria-describedby="recordHelpline" value="data/">
                </div>
              </div> -->

              <label for="recordRoot" class="form-label">Root Dir</label>
              <input type="text" id="recordRoot" name="root_dir" class="form-control" aria-describedby="recordHelpline" value="data/">
              <!-- <div id="passwordHelpBlock" class="form-text">
                Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.
              </div> -->

              <label for="recordRepoID" class="form-label mt-2">Repo ID</label>
              <input type="text" id="recordRepoID" name="repo_id" class="form-control" aria-describedby="recordHelpline" value="default/dataset">

              <label for="recordTags" class="form-label mt-2">Tags</label>
              <input type="text" id="recordTags" name="tags" class="form-control" aria-describedby="recordHelpline" value="">

              <label for="recordSingleTask" class="form-label mt-2">Single Task Desc</label>
              <input type="text" id="recordSingleTask" name="single_task" class="form-control" aria-describedby="recordHelpline" value="">

              <label for="recordNumEpisodes" class="form-label mt-2">Num Episodes</label>
              <input type="number" id="recordNumEpisodes" name="num_episodes" class="form-control" aria-describedby="number of episodes" value="50">
              
              <hr>
              <div class="container mb-2 d-flex flex-wrap">

                <div class="form-check form-switch" style="margin-right: 10px;">
                  <input class="form-check-input" name="resume" type="checkbox" role="switch" id="resumeRecordToggle">
                  <label class="form-check-label" for="resumeRecordToggle">Resume</label>
                </div>

                <div class="form-check form-switch" style="margin-right: 10px;">
                  <input class="form-check-input" name="local_files_only" type="checkbox" role="switch" id="recordLocalFilesToggle">
                  <label class="form-check-label" for="recordLocalFilesToggle">Local Files Only</label>
                </div>

                <div class="form-check form-switch mb-3">
                  <input class="form-check-input" name="run_compute_stats" type="checkbox" role="switch" id="recordRunComputeStats" checked>
                  <label class="form-check-label" for="recordRunComputeStats">Run Compute Stats</label>
                </div>

                <div class="form-check form-switch mb-3">
                  <input class="form-check-input" name="push_to_hub" type="checkbox" role="switch" id="recordPushToHub">
                  <label class="form-check-label" for="recordPushToHub">Push To Hub</label>
                </div>

              </div>                                     
              

              <div class="input-group mb-3">
                <span class="input-group-text">Max Episode Time</span>
                <input type="number" class="form-control" id="recordEpisodeTime" name="episode_time_s" value="40" aria-label="episode time">
                <span class="input-group-text">FPS</span>
                <input type="number" class="form-control" id="recordFPS" name="fps" value="30" aria-label="frames per second">
              </div>

              

              <div class="input-group mb-3">
                <span class="input-group-text">Image Writer Processes</span>
                <input type="number" class="form-control" id="recordImageWriterProcesses" name="num_image_writer_processes" value="0" aria-label="number of processes for image writer">
                <span class="input-group-text">Writer Threads</span>
                <input type="number" class="form-control" id="recordImageWriterThreads" name="num_image_writer_threads_per_camera" value="4" aria-label="number of threads for image writer">
              </div>


              <button type="submit" class="btn btn-primary">Apply</button>

            </form>

          </div>
        </div>
      </div>
    </div>
</div>